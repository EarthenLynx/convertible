(function(e){function t(t){for(var i,n,s=t[0],l=t[1],c=t[2],u=0,p=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],i=!0,n=1;n<r.length;n++){var s=r[n];0!==a[s]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=r[0]))}return e}var i={},n={app:0},a={app:0},o=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-76e816e4":"631ee9f0"}[e]+".js"}function l(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={"chunk-76e816e4":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var i="css/"+({}[e]||e)+"."+{"chunk-76e816e4":"8ed4f51f"}[e]+".css",a=l.p+i,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var c=o[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===a))return t()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){c=p[s],u=c.getAttribute("data-href");if(u===i||u===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete n[e],d.parentNode.removeChild(d),r(o)},d.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){n[e]=0})));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,r){i=a[e]=[t,r]}));t.push(i[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var p=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(d);var r=a[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",p.name="ChunkLoadError",p.type=i,p.request=n,r[1](p)}a[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=i,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(r,i,function(t){return e[t]}.bind(null,i));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var d=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"15b5":function(e,t,r){},"1d27":function(e,t,r){"use strict";r("6809")},"308d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("d3b7"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"md:w-4/5 xl:w-1/2 2xl:w-7/12 m-auto mt-6",attrs:{id:"app"}},[e.settingsModified?r("app-card",{attrs:{heading:"Image settings"}},[r("ul",[e.fileOptions.convertFrom&&e.fileOptions.convertTo?r("li",[e._v(" Convert from "),r("span",{staticClass:"font-medium text-primary"},[e._v(e._s(e.fileOptions.convertFrom))]),e._v(" into "),r("span",{staticClass:"font-medium text-primary"},[e._v(e._s(e.fileOptions.convertTo))])]):e._e(),e.fileOptions.fixedAspectRatio&&e.fileOptions.convertFrom&&e.fileOptions.convertTo?r("li",[e._v(" ... in "),r("span",{staticClass:"text-primary font-medium"},[e._v(" "+e._s(e.fileOptions.fixedAspectRatio)+" ")]),e._v(" - format ")]):e._e(),e.fileOptions.heightTo||e.fileOptions.widthTo?r("li",[e._v(" Target size "),r("span",{staticClass:"font-medium"},[e._v(e._s(e.fileOptions.heightTo)+" x "+e._s(e.fileOptions.widthTo)+"px ")])]):e._e(),e.fileOptions.qualityTo?r("li",[e._v(" Quality: "),r("span",{staticClass:"font-medium"},[e._v(e._s(e.fileOptions.qualityTo)+"%")])]):e._e(),e.fileOptions.keepAspectRatio?r("li",[r("i",{staticClass:"fas fa-check text-green-700 mr-2"}),e._v("Aspect ratio will remain the same ")]):e._e(),e.fileOptions.imgFit?r("li",[r("i",{staticClass:"fas fa-check text-green-700 mr-2"}),e._v("Fitting background to image size ")]):e._e()])]):e._e(),e.showSidebar?r("app-sidebar",{attrs:{heading:"Image gallery",subheading:"You can choose from your processed images here",images:e.filesReceived},on:{close:function(t){e.showSidebar=!1},deleteImage:function(t){return e.filesReceived.splice(t,1)}}}):r("button",{staticClass:"absolute border-r border-t border-b border-primary top-6 left-0 rounded-r py-4 px-6 text-xl text-primary hover:bg-primary hover:text-white",on:{click:function(t){e.showSidebar=!0}}},[r("i",{staticClass:"fas fa-bars"})]),r("app-upload",{attrs:{heading:"Upload a file",subheading:"You can drop your file right in this section",uploadUrl:e.uploadUrl,uploadQuery:e.uploadQuery,allowedFormats:e.allowedFormats},on:{fileLoaded:function(t){e.fileOptions.convertFrom=t.type},fileIllegalFormat:function(t){return e.handleAlertError(t)},imageReceived:function(t){return e.pushImage(t)},imageError:function(t){return e.handleAlertError(t)}}}),r("section",{staticClass:"grid md:grid-cols-1 xl:grid-cols-2 gap-4 pt-4"},[r("app-select",{attrs:{name:"Format",label:"Format",options:e.convertOptions},on:{change:function(t){e.fileOptions.convertTo=t}}}),r("app-select",{attrs:{name:"Ratio",label:"Fixed ratio",options:e.fixedRatioOptions},on:{change:function(t){e.fileOptions.fixedAspectRatio=t}}}),r("app-number",{attrs:{name:"Height",label:"Height"},on:{change:function(t){e.fileOptions.heightTo=t}}}),r("app-number",{attrs:{name:"Width",label:"Width"},on:{change:function(t){e.fileOptions.widthTo=t}}}),r("app-number",{attrs:{name:"Quality",label:"Quality"},on:{change:function(t){e.fileOptions.qualityTo=t}}}),r("div",[r("app-switch",{attrs:{label:"Fixed ratio"},on:{change:function(t){e.fileOptions.keepAspectRatio=t}}}),r("app-switch",{attrs:{label:"Fit background size"},on:{change:function(t){e.fileOptions.imgFit=t}}})],1)],1),e.error.show?r("app-alert",{attrs:{msg:e.error.msg}}):e._e()],1)},a=[],o=(r("4160"),r("b64b"),r("159b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{appear:"",name:"sidebar-slide"}},[r("section",{staticClass:"absolute top-0 left-0 h-screen w-72"},[r("div",{staticClass:"w-auto h-1/6 px-4 py-6 bg-primary z-10"},[r("h2",{staticClass:"font-medium flex justify-between text-2xl cursor-pointer text-white",on:{mouseenter:function(t){e.closeHover=!0},mouseleave:function(t){e.closeHover=!1},click:function(t){return e.$emit("close")}}},[e._v(" "+e._s(e.heading)+" "),r("i",{staticClass:"fas fa-chevron-down text-white transform transition-all",class:{"rotate-90":e.closeHover}})]),r("p",{staticClass:"font-normal text-md text-white"},[e._v(e._s(e.subheading))])]),r("div",{staticClass:"w-auto h-5/6 overflow-y-scroll py-3 px-4 bg-white"},[r("transition-group",{attrs:{appear:"",name:"collection-slide"}},e._l(e.images,(function(t,i){return r("div",{key:t,staticClass:"border border-gray-200 rounded my-2"},[r("div",{staticClass:"w-auto"},[r("img",{staticClass:"w-auto max-h-48 m-auto",attrs:{src:t}})]),r("div",{staticClass:"px-2 py-3 flex justify-between bg-gray-50 bg-opacity-95"},[r("button",{staticClass:"font-semibold text-secondary border-secondary px-4 py-1 hover:underline focus:outline-none",on:{click:function(t){return e.$emit("deleteImage",i)}}},[r("i",{staticClass:"fas fa-eraser"}),e._v(" Delete ")]),r("a",{attrs:{href:t,download:"image"}},[r("button",{staticClass:"border rounded font-semibold text-primary border-primary px-4 py-1 hover:bg-primary hover:text-white transition-all"},[r("i",{staticClass:"far fa-save"}),e._v(" Save ")])])])])})),0)],1)])])}),s=[],l={data:function(){return{closeHover:!1}},props:{heading:String,subheading:String,images:Array}},c=l,u=(r("1d27"),r("2877")),p=Object(u["a"])(c,o,s,!1,null,null,null),d=p.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"upload"}},[r("div",{staticClass:"border rounded border-primary",attrs:{id:"wrapper"}},[r("div",{staticClass:"px-8 py-3 flex-row bg-gradient-to-br from-primary to-secondary ",attrs:{id:"header"}},[r("h1",{staticClass:"font-medium text-xl text-white"},[e._v(e._s(e.heading))]),r("p",{staticClass:"font-normal text-md text-white"},[e._v(e._s(e.subheading))])]),r("div",{staticClass:"px-8 py-2 md:h-64 lg:h-80 flex flex-col text-secondary justify-center items-center transition-all",class:{"bg-gray-100 animate-pulse":e.over},attrs:{id:"body"},on:{dragover:function(t){return t.preventDefault(),e.handleDragOver(t)},dragleave:function(t){return t.preventDefault(),e.handleDragLeave(t)},drop:function(t){return t.preventDefault(),e.handleDrop(t)}}},[r("i",{staticClass:"fas fa-file-upload text-4xl m-2"}),r("p",{staticClass:"text-2xl font-semibold m-1"},[e._v("Upload")])])]),r("transition",{attrs:{appear:"",name:"footer-emerge"}},[e.loaded?r("div",{staticClass:"border border-primary rounded flex justify-between bg-gradient-to-r from-primary to-secondary my-4 px-8 py-2",attrs:{id:"footer"}},[r("div",{attrs:{id:"text-wrapper"}},[r("p",{staticClass:"text-base text-white"},[e._v(e._s(e.file.name))]),r("small",{staticClass:"text-xs opacity-75 text-white"},[e._v("Size: "+e._s(e.file.size)+" kb. Current format: "+e._s(e.file.type)+". ")])]),r("button",{staticClass:"border rounded font-semibold text-white border-white-400 px-4 hover:bg-white hover:text-secondary transition-all",on:{click:e.handleUploadFile}},[r("i",{staticClass:"far fa-paper-plane"}),e._v(" Upload ")])]):e._e()])],1)},m=[],h=(r("caad"),r("b0c0"),r("b680"),r("ac1f"),r("2532"),r("3ca3"),r("1276"),r("ddb0"),r("2b3d"),r("96cf"),r("1da1")),v={props:{heading:String,subheading:String,uploadUrl:String,uploadQuery:String,allowedFormats:Array},data:function(){return{over:!1,loaded:!1,file:{name:"",size:"",type:""},buffer:""}},methods:{handleDragOver:function(){this.over=!0},handleDragLeave:function(){this.over=!1},handleDrop:function(e){var t=this,r=e.dataTransfer.items[0].getAsFile(),i=new FileReader;this.allowedFormats.length>0&&!this.allowedFormats.includes(r.type.split("/")[0])?(this.over=!1,this.loaded=!0,this.$emit("fileIllegalFormat","Filetype ".concat(r.type," not supported."))):(this.file={name:r.name,size:(r.size/1e3).toFixed(2),type:r.type.split("/")[1]},i.readAsArrayBuffer(r),i.onloadend=function(e){t.over=!1,t.loaded=!0,t.buffer=e.target.result,t.$emit("fileLoaded",t.file)})},handleUploadFile:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,i,n,a,o,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.uploadUrl+e.uploadQuery,t.next=3,e.buffer;case 3:return i=t.sent,n={method:"post",body:i},t.next=7,fetch(r,n);case 7:if(a=t.sent,200===a.status){t.next=15;break}return t.next=11,a.json();case 11:o=t.sent,e.$emit("imageError",o.error),t.next=20;break;case 15:return t.next=17,a.blob();case 17:s=t.sent,l=URL.createObjectURL(s),e.$emit("imageReceived",l);case 20:case"end":return t.stop()}}),t)})))()},checkAllowedFormats:function(e,t){return!!t.includes(e)}}},g=v,b=(r("872c"),Object(u["a"])(g,f,m,!1,null,"52373c08",null)),y=b.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex border rounded border-primary"},[r("label",{staticClass:"p-2 w-1/3 text-center bg-primary text-white font-semibold"},[e._v(e._s(e.label))]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"w-full rounded focus:outline-none focus:shadow-primary px-2",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?r:r[0]},function(t){return e.$emit("change",e.selected)}]}},[r("option",{attrs:{selected:"",disabled:""},domProps:{value:void 0}},[e._v("Choose one ...")]),e._l(e.options,(function(t){return r("option",{key:t.key,staticClass:"border-secondary",domProps:{value:t.key}},[e._v(e._s(t.value))])}))],2)])},w=[],_={data:function(){return{selected:""}},props:{label:String,options:Array}},O=_,C=Object(u["a"])(O,x,w,!1,null,null,null),A=C.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex border rounded border-primary"},[r("label",{staticClass:"p-2 w-1/3 text-center bg-primary text-white font-semibold"},[e._v(e._s(e.label))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"w-full rounded focus:outline-none focus:shadow-primary px-2",attrs:{type:"number"},domProps:{value:e.value},on:{change:function(t){return e.$emit("change",e.value)},input:function(t){t.target.composing||(e.value=t.target.value)}}})])},T=[],F={data:function(){return{value:0}},props:{label:String,options:Array}},S=F,R=Object(u["a"])(S,k,T,!1,null,null,null),j=R.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex items-center cursor-pointer",on:{click:e.handleToggle}},[r("div",{staticClass:"w-6 h-3 p-0.5 flex items-center rounded-full duration-300 ease-in-out bg-primary",class:{"bg-secondary":e.toggleActive,"bg-primary":!e.toggleActive}},[r("div",{staticClass:"bg-white w-2 h-2 border-transparent rounded-full shadow-md transform duration-300 ease-in-out",class:{"translate-x-3":e.toggleActive}})]),r("p",{staticClass:"font-semibold ml-1"},[e._v(e._s(e.label))])])},$=[],P={props:{label:String},data:function(){return{toggleActive:!1}},methods:{handleToggle:function(){this.toggleActive=!this.toggleActive,this.$emit("change",this.toggleActive)}}},U=P,D=Object(u["a"])(U,E,$,!1,null,null,null),L=D.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{appear:"",name:"card-slide"}},[r("div",{staticClass:"sm:block md:absolute top-6 right-4 border-l-4 px-4 py-2 mb-4 border-primary bg-gray-50 w-80 bg-opacity-95"},[r("h2",{staticClass:"text-lg font-semibold"},[e._v(e._s(e.heading))]),e._t("default")],2)])},z=[],I={props:{heading:String}},N=I,Q=(r("c177"),Object(u["a"])(N,q,z,!1,null,null,null)),H=Q.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{appear:"",name:"alert-slide"}},[r("div",{staticClass:"sm:block md:absolute bottom-6 right-4 border bg-secondary rounded text-white px-4 py-2 mb-4 w-80"},[e._v(" "+e._s(e.msg)+" ")])])},B=[],J={props:{msg:String}},W=J,G=(r("b76f"),Object(u["a"])(W,M,B,!1,null,null,null)),Y=G.exports,K=r("e61d"),V={name:"App",components:{AppSidebar:d,AppUpload:y,AppSelect:A,AppNumber:j,AppSwitch:L,AppCard:H,AppAlert:Y},data:function(){return{uploadUrl:"http://localhost:3000/convert/img",error:{msg:"",show:!1},showSidebar:!1,fileOptions:{convertFrom:"",convertTo:"",qualityTo:null,heightTo:null,widthTo:null,fixedAspectRatio:"",keepAspectRatio:!1,imgFit:!1},allowedFormats:["image"],filesReceived:[],convertOptions:K["convertOptions"],fixedRatioOptions:K["fixedRatioOptions"]}},methods:{pushImage:function(e){this.filesReceived.push(e),this.showSidebar=!0},handleAlertError:function(e){var t=this;this.error.msg=e,this.error.show=!0,setTimeout((function(){return t.error.show=!1}),4e3)}},computed:{settingsModified:function(){var e=this,t=!1;return Object.keys(this.fileOptions).forEach((function(r){e.fileOptions[r]&&(t=!0)})),t},uploadQuery:function(){var e="?";return this.fileOptions.convertFrom&&(e+="convertFrom=".concat(this.fileOptions.convertFrom,"&")),this.fileOptions.convertTo&&(e+="convertTo=".concat(this.fileOptions.convertTo,"&")),this.fileOptions.fixedAspectRatio&&(e+="fixedAspectRatio=".concat(this.fileOptions.fixedAspectRatio,"&")),this.fileOptions.qualityTo&&(e+="qualityTo=".concat(this.fileOptions.qualityTo,"&")),this.fileOptions.heightTo&&(e+="heightTo=".concat(this.fileOptions.heightTo,"&")),this.fileOptions.widthTo&&(e+="widthTo=".concat(this.fileOptions.widthTo,"&")),this.fileOptions.keepAspectRatio&&(e+="keepAspectRatio=".concat(this.fileOptions.keepAspectRatio,"&")),this.fileOptions.imgFit&&(e+="imgFit=".concat(this.fileOptions.imgFit,"&")),e}}},X=V,Z=Object(u["a"])(X,n,a,!1,null,null,null),ee=Z.exports;r.e("chunk-76e816e4").then(r.t.bind(null,"a2f0",7)),i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(ee)}}).$mount("#app")},6809:function(e,t,r){},"872c":function(e,t,r){"use strict";r("c4ea")},b76f:function(e,t,r){"use strict";r("15b5")},c177:function(e,t,r){"use strict";r("308d")},c4ea:function(e,t,r){},e61d:function(e,t){e.exports={convertOptions:[{key:"png",value:"PNG"},{key:"jpg",value:"JPG"},{key:"webp",value:"WebP"},{key:"pdf",value:"Pdf"}],fixedRatioOptions:[{key:void 0,value:"Manual"},{key:"hd",value:"Landscape 16:9 format"},{key:"classic",value:"Classic 4:3 format"},{key:"square",value:"Square 1:1 format"}]}}});
//# sourceMappingURL=app.3c234d1a.js.map